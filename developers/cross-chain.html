<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>Cross-chain swap of Metaverse MST | Metaverse Docs</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://docs.mvs.org/developers/cross-chain.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://docs.mvs.org/developers/cross-chain.html">
    
      <link rel="alternative" hreflang="zh-cn" href="https://docs.mvs.org/zh-cn/developers/cross-chain.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="Metaverse Docs">
  <!-- Open Graph -->
  <meta name="description" content="1 IntroductionMetaverse adopts a swap service to implement the cross-chain swap between Ethereum ERC20 tokens and Metaverse MST. Swap the Ethereum ERC20 tokens for Metaverse MST  User create Avatars o">
<meta property="og:type" content="website">
<meta property="og:title" content="Cross-chain swap of Metaverse MST">
<meta property="og:url" content="https://docs.mvs.org/developers/cross-chain.html">
<meta property="og:site_name" content="Metaverse Docs">
<meta property="og:description" content="1 IntroductionMetaverse adopts a swap service to implement the cross-chain swap between Ethereum ERC20 tokens and Metaverse MST. Swap the Ethereum ERC20 tokens for Metaverse MST  User create Avatars o">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://docs.mvs.org/images/i/O5RlHy0.png">
<meta property="og:image" content="https://docs.mvs.org/images/i/H08LV6X.png">
<meta property="og:image" content="https://docs.mvs.org/images/i/E2bWRKI.png">
<meta property="og:updated_time" content="2020-02-20T03:17:04.956Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cross-chain swap of Metaverse MST">
<meta name="twitter:description" content="1 IntroductionMetaverse adopts a swap service to implement the cross-chain swap between Ethereum ERC20 tokens and Metaverse MST. Swap the Ethereum ERC20 tokens for Metaverse MST  User create Avatars o">
<meta name="twitter:image" content="https://docs.mvs.org/images/i/O5RlHy0.png">
<meta name="twitter:site" content="mvs_org">
<meta property="fb:admins" content="100006665201854">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-99097230-2', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/" id="logo">Hexo</a>
    </h1>
    <nav id="main-nav">
      <a href="/docs/" class="main-nav-link">Docs</a><a href="/api_v3/" class="main-nav-link">API v3</a><a href="/baas/" class="main-nav-link">BaaS</a><a href="/developers/" class="main-nav-link">Developers</a><a href="/faq/" class="main-nav-link">FAQ</a><a href="/news/" class="main-nav-link">Releases</a>
      <a href="https://github.com/mvs-org/metaverse" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="developers/cross-chain.html">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Cross-chain swap of Metaverse MST</h1>
                <a href="https://github.com/mvs-org/docs-mvs-org/edit/master/source/developers/cross-chain.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h1 id="1-Introduction" class="article-heading"><a href="#1-Introduction" class="headerlink" title="1 Introduction"></a>1 Introduction<a class="article-anchor" href="#1-Introduction" aria-hidden="true"></a></h1><p>Metaverse adopts a swap service to implement the cross-chain swap between Ethereum <code>ERC20</code> tokens and Metaverse <code>MST</code>.</p>
<h4 id="Swap-the-Ethereum-ERC20-tokens-for-Metaverse-MST" class="article-heading"><a href="#Swap-the-Ethereum-ERC20-tokens-for-Metaverse-MST" class="headerlink" title="Swap the Ethereum ERC20 tokens for Metaverse MST"></a>Swap the Ethereum <code>ERC20</code> tokens for Metaverse <code>MST</code><a class="article-anchor" href="#Swap-the-Ethereum-ERC20-tokens-for-Metaverse-MST" aria-hidden="true"></a></h4><blockquote>
<ol>
<li>User create Avatars on Metaverse blockchain.</li>
<li>With the data of user’s Avatars, the contract linked with Metaverse address is executed to link Ethereum with their Avatars on Metaverse.</li>
<li>User send the <code>ERC20</code> tokens to the Ethereum address swapped by the Metaverse MST.</li>
<li>The swap service will automatically process the transactions, sending equivalent <code>MST</code> to Metaverse Avatars.</li>
</ol>
</blockquote>
<h4 id="Swap-the-Metaverse-MST-for-Ethereum-ERC20-tokens" class="article-heading"><a href="#Swap-the-Metaverse-MST-for-Ethereum-ERC20-tokens" class="headerlink" title="Swap the Metaverse MST for Ethereum ERC20 tokens"></a>Swap the Metaverse <code>MST</code> for Ethereum <code>ERC20</code> tokens<a class="article-anchor" href="#Swap-the-Metaverse-MST-for-Ethereum-ERC20-tokens" aria-hidden="true"></a></h4><blockquote>
<ol>
<li>User can send the Metaverse <code>MST</code> that can be swapped to the Avatars <code>droplets</code> that manage the swap process on Metaverse side.</li>
<li>The swap service will automatically process the transactions, sending equivalent <code>ERC20</code> tokens on the Ethereum blockchain to the Ethereum address specified by the user.</li>
</ol>
</blockquote>
<h1 id="2-System-architecture" class="article-heading"><a href="#2-System-architecture" class="headerlink" title="2 System architecture"></a>2 System architecture<a class="article-anchor" href="#2-System-architecture" aria-hidden="true"></a></h1><p>The cross-chain service consists of the following three modules:</p>
<blockquote>
<ol>
<li>Address Linking Module: to link the Ethereum address to the Avatar of Metaverse.</li>
<li>Preprocessing module: to scan different token transactions that need to be swapped. During the scanning process, the main chain, the address and the number of assets of the target transactions will be obtained, while those that do not meet the rules will be filtered. For example, the number of assets is too small, or the type of the target assets isn’t yet supported.</li>
<li>Swap module: to initiate a transaction of the same assets from the purposed main-chain address to the target main chain, based on the scanned swap information.</li>
</ol>
</blockquote>
<h2 id="2-1-Address-Linking" class="article-heading"><a href="#2-1-Address-Linking" class="headerlink" title="2.1 Address Linking"></a>2.1 Address Linking<a class="article-anchor" href="#2-1-Address-Linking" aria-hidden="true"></a></h2><h3 id="From-Ethereum-to-Metaverse" class="article-heading"><a href="#From-Ethereum-to-Metaverse" class="headerlink" title="From Ethereum to Metaverse"></a>From Ethereum to Metaverse<a class="article-anchor" href="#From-Ethereum-to-Metaverse" aria-hidden="true"></a></h3><p>Since the transactions of Ethereum <code>ERC20</code> tokens don’t support additional information, it is necessary to link the Ethereum address with the Avatar or address on Metaverse at first (it is recommended to use an Avatar). We created an address-linked smart contract called ETPMap on the Ethereum public blockchain to support the linking of the Ethereum address and the Metaverse Avatar or address, which also supports to link multiple Ethereum addresses to the same Metaverse Avatar or address.<br>The address of the address-linked smart contract is:<br><code>0xa52b0a032139e6303b86cfeb0bb9ae780a610354</code>, which can be viewed on the <a href="https://etherscan.io/" target="_blank" rel="noopener">Ethereum Block Browser</a>.</p>
<p>After the linking, the <code>ERC20</code> tokens can be sent to the Metaverse swap center from the Ethereum address that have been linked. Thus, equivalent <code>MST</code> assets will be automatically sent to the linked Metaverse Avatar or address.<br>The Ethereum address of the Metaverse swap center is:<br><code>0xc1e5fd24fa2b4a3581335fc3f2850f717dd09c86</code></p>
<h3 id="From-Metaverse-to-Ethereum" class="article-heading"><a href="#From-Metaverse-to-Ethereum" class="headerlink" title="From Metaverse to Ethereum"></a>From Metaverse to Ethereum<a class="article-anchor" href="#From-Metaverse-to-Ethereum" aria-hidden="true"></a></h3><p>There is no need to link the Metaverse Avatar to the Ethereum address to do a swap from Metaverse to Ethereum, since the recipient Ethereum address can be specified in a message directly in the transaction.<br>The <code>MST</code> asset has to be sent to the Avatar <code>droplet</code> that manage the swap function on the Metaverse public blockchain and contain a <code>message</code> using the <code>json</code> format that contains the target public blockchain type and the wallet address of the target main chain that will be sent to. Currently, this operation is supported on all nodes, light wallets, and mobile terminals.</p>
<p>The following is a transaction to swap Metaverse <code>MST</code> to the Ethereum <code>ERC20</code> tokens:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">		&quot;hash&quot; : &quot;5003d7a20ae865a4a69da284ee48cf8875ba84a109cebef6e7d3bdf4aaf619a9&quot;,</span><br><span class="line">		&quot;height&quot; : 640679,</span><br><span class="line">		&quot;inputs&quot; :</span><br><span class="line">		[</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;address&quot; : &quot;M6yRKhAF5a6F29XGKUZmAfCqp69AHSPQHX&quot;,</span><br><span class="line">				&quot;previous_output&quot; :</span><br><span class="line">				&#123;</span><br><span class="line">					&quot;hash&quot; : &quot;5ad1ba953bbbef75233fd9689815cd607daccae548cabe95b1db6de2d6fae032&quot;,</span><br><span class="line">					&quot;index&quot; : 3</span><br><span class="line">				&#125;,</span><br><span class="line">				&quot;script&quot; : &quot;[ 304402204581a05a1787fb91bed3b967b1b55b574a5384808cd3b5850f706ad4e7c30937022030068b64deb5d904942740a18fd020ec26da8371fde0c6bd59c8396a8b3dc3ab01 ] [ 0306c687db5ffdc47024dcb8f9f75d0596954840e1dd1d2243608a0b3bad9b4d65 ]&quot;,</span><br><span class="line">				&quot;sequence&quot; : 4294967295</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;address&quot; : &quot;M6yRKhAF5a6F29XGKUZmAfCqp69AHSPQHX&quot;,</span><br><span class="line">				&quot;previous_output&quot; :</span><br><span class="line">				&#123;</span><br><span class="line">					&quot;hash&quot; : &quot;5ad1ba953bbbef75233fd9689815cd607daccae548cabe95b1db6de2d6fae032&quot;,</span><br><span class="line">					&quot;index&quot; : 2</span><br><span class="line">				&#125;,</span><br><span class="line">				&quot;script&quot; : &quot;[ 304402201614b245b26c462d7611d766d1e1507394d30f9e45810ebe6621a9233824d78902201a45e9aba26c27c85ccf03852fcc3d3e525edb4850869f84a473e87773c9599201 ] [ 0306c687db5ffdc47024dcb8f9f75d0596954840e1dd1d2243608a0b3bad9b4d65 ]&quot;,</span><br><span class="line">				&quot;sequence&quot; : 4294967295</span><br><span class="line">			&#125;</span><br><span class="line">		],</span><br><span class="line">		&quot;lock_time&quot; : &quot;0&quot;,</span><br><span class="line">		&quot;outputs&quot; :</span><br><span class="line">		[</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;address&quot; : &quot;MF9pfqY8p6cfjuhDVZu9aXBY1CBprgrpKm&quot;,</span><br><span class="line">				&quot;attachment&quot; :</span><br><span class="line">				&#123;</span><br><span class="line">					&quot;from_did&quot; : &quot;&quot;,</span><br><span class="line">					&quot;quantity&quot; : 123400000,</span><br><span class="line">					&quot;symbol&quot; : &quot;ERC20.EDU&quot;,</span><br><span class="line">					&quot;to_did&quot; : &quot;droplet&quot;,</span><br><span class="line">					&quot;type&quot; : &quot;asset-transfer&quot;</span><br><span class="line">				&#125;,</span><br><span class="line">				&quot;index&quot; : 0,</span><br><span class="line">				&quot;locked_height_range&quot; : 0,</span><br><span class="line">				&quot;script&quot; : &quot;dup hash160 [ 5a40f31ced32e9fcad58a9b54e6f607843efac87 ] equalverify checksig&quot;,</span><br><span class="line">				&quot;value&quot; : 0</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;address&quot; : &quot;MJNo92g6DavpaCZbYjrH45iQ8eAKnLqmms&quot;,</span><br><span class="line">				&quot;attachment&quot; :</span><br><span class="line">				&#123;</span><br><span class="line">					&quot;type&quot; : &quot;etp&quot;</span><br><span class="line">				&#125;,</span><br><span class="line">				&quot;index&quot; : 1,</span><br><span class="line">				&quot;locked_height_range&quot; : 0,</span><br><span class="line">				&quot;script&quot; : &quot;dup hash160 [ 7d9d74d3ca1f594f3e45416ca9509f77cd550f39 ] equalverify checksig&quot;,</span><br><span class="line">				&quot;value&quot; : 100000000</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;address&quot; : &quot;M6yRKhAF5a6F29XGKUZmAfCqp69AHSPQHX&quot;,</span><br><span class="line">				&quot;attachment&quot; :</span><br><span class="line">				&#123;</span><br><span class="line">					&quot;type&quot; : &quot;etp&quot;</span><br><span class="line">				&#125;,</span><br><span class="line">				&quot;index&quot; : 2,</span><br><span class="line">				&quot;locked_height_range&quot; : 0,</span><br><span class="line">				&quot;script&quot; : &quot;dup hash160 [ 00884b5e9e39465782228d996a8ee66be3c0f8ca ] equalverify checksig&quot;,</span><br><span class="line">				&quot;value&quot; : 16312295678</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;address&quot; : &quot;M6yRKhAF5a6F29XGKUZmAfCqp69AHSPQHX&quot;,</span><br><span class="line">				&quot;attachment&quot; :</span><br><span class="line">				&#123;</span><br><span class="line">					&quot;quantity&quot; : 221600000,</span><br><span class="line">					&quot;symbol&quot; : &quot;ERC20.EDU&quot;,</span><br><span class="line">					&quot;type&quot; : &quot;asset-transfer&quot;</span><br><span class="line">				&#125;,</span><br><span class="line">				&quot;index&quot; : 3,</span><br><span class="line">				&quot;locked_height_range&quot; : 0,</span><br><span class="line">				&quot;script&quot; : &quot;dup hash160 [ 00884b5e9e39465782228d996a8ee66be3c0f8ca ] equalverify checksig&quot;,</span><br><span class="line">				&quot;value&quot; : 0</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				&quot;address&quot; : &quot;M6yRKhAF5a6F29XGKUZmAfCqp69AHSPQHX&quot;,</span><br><span class="line">				&quot;attachment&quot; :</span><br><span class="line">				&#123;</span><br><span class="line">					&quot;content&quot; : &quot;&#123;\&quot;type\&quot;:\&quot;ETH\&quot;,\&quot;address\&quot;:\&quot;0x8bB10939a8a36765a082905d4BfE8680F86eBF95\&quot;&#125;&quot;,</span><br><span class="line">					&quot;type&quot; : &quot;message&quot;</span><br><span class="line">				&#125;,</span><br><span class="line">				&quot;index&quot; : 4,</span><br><span class="line">				&quot;locked_height_range&quot; : 0,</span><br><span class="line">				&quot;script&quot; : &quot;dup hash160 [ 00884b5e9e39465782228d996a8ee66be3c0f8ca ] equalverify checksig&quot;,</span><br><span class="line">				&quot;value&quot; : 0</span><br><span class="line">			&#125;</span><br><span class="line">		],</span><br><span class="line">		&quot;version&quot; : &quot;4&quot;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-2-Preprocessing-module" class="article-heading"><a href="#2-2-Preprocessing-module" class="headerlink" title="2.2 Preprocessing module"></a>2.2 Preprocessing module<a class="article-anchor" href="#2-2-Preprocessing-module" aria-hidden="true"></a></h2><p>The cross-chain transactions of assets that match the rules can be obtained by scanning the transactions. During the scanning process, the transactions will be verified, including asset type filtering, address verification (Ethereum address, Metaverse address transaction), asset quantity verification, cost verification (‘1 ETP’ to swap Metaverse MST for Ethereum ‘ERC20’ tokens), and third-party node verification. Only the transactions that meet the rules can be swapped.</p>
<p>The preprocessing process is as follows:<br><img src="/images/i/O5RlHy0.png" alt="Preprocessing Flowchart"></p>
<h2 id="2-3-Swap-module" class="article-heading"><a href="#2-3-Swap-module" class="headerlink" title="2.3 Swap module"></a>2.3 Swap module<a class="article-anchor" href="#2-3-Swap-module" aria-hidden="true"></a></h2><p>The pre-processed transactions will enter the swap process. In order to prevent a series of problems caused by blockchain forks, each exchange transaction needs to be confirmed by a certain block height.</p>
<h3 id="Swap-Ethereum-ERC20-tokens-for-Metaverse-MST" class="article-heading"><a href="#Swap-Ethereum-ERC20-tokens-for-Metaverse-MST" class="headerlink" title="Swap Ethereum ERC20 tokens for Metaverse MST"></a>Swap Ethereum <code>ERC20</code> tokens for Metaverse <code>MST</code><a class="article-anchor" href="#Swap-Ethereum-ERC20-tokens-for-Metaverse-MST" aria-hidden="true"></a></h3><p>The Ethereum address needs to first call the address-linked smart contract <code>ETPMap</code> to link to the Metaverse Avatar or address. After the linking, the Ethereum <code>ERC20</code> tokens can be sent to the Ethereum address of the Metaverse swap center:<br><code>0xc1e5fd24fa2b4a3581335fc3f2850f717dd09c86</code>, then equivalent <code>MST</code> can be received on the Metaverse Avatar or address.</p>
<p>Swap Ethereum <code>ERC20</code> tokens for <code>MST</code> :<br><img src="/images/i/H08LV6X.png" alt="Swap Ethereum `ERC20` tokens for `MST`"></p>
<h3 id="Swap-Metaverse-MST-for-EthereumERC20-tokens" class="article-heading"><a href="#Swap-Metaverse-MST-for-EthereumERC20-tokens" class="headerlink" title="Swap Metaverse MST for EthereumERC20 tokens:"></a>Swap Metaverse <code>MST</code> for Ethereum<code>ERC20</code> tokens:<a class="article-anchor" href="#Swap-Metaverse-MST-for-EthereumERC20-tokens" aria-hidden="true"></a></h3><p>To swap from <code>MST</code> to Ethereum <code>ERC20</code> tokens, you need to send a transaction with a specific format to the swap Avatar <code>droplet</code> that manage the swap function on Metaverse. The transaction output will include the type of the target main chain (eg: Ethereum belongs to <code>ETH</code>) and the wallet address on the target chain, which costs <code>1 ETP</code> as swap fee.</p>
<p>Swap <code>MST</code>  for Ethereum<code>ERC20</code> tokens<br><img src="/images/i/E2bWRKI.png" alt="Swap `MST`  for Ethereum`ERC20` tokens"></p>
<h2 id="Source-Code" class="article-heading"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code<a class="article-anchor" href="#Source-Code" aria-hidden="true"></a></h2><ol>
<li><a href="https://github.com/mvshub/mvs_ScanService" target="_blank" rel="noopener">Preprocessing module</a></li>
<li><a href="https://github.com/mvshub/mvs_SwapService" target="_blank" rel="noopener">Swap module</a></li>
</ol>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2020-02-20T03:17:04.956Z" itemprop="dateModified">Last updated: 2020-02-20</time>
                <a href="utxo-limitation.html" class="article-footer-prev" title="UTXO limitation"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="mpc1-transaction-updation.html" class="article-footer-next" title="MPC1 transaction updation"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
<section id="comments">
  <div id="disqus_thread"></div>
</section>
<script>
  var disqus_shortname = 'docs-mvs-org';
  var disqus_url = 'https://docs.mvs.org/developers/cross-chain.html';
  var disqus_title = "Cross-chain swap of Metaverse MST";
  var disqus_config = function(){
    this.language = 'en';
  };
  (function(){
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'https://go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Introduction"><span class="toc-text">1 Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swap-the-Ethereum-ERC20-tokens-for-Metaverse-MST"><span class="toc-text">Swap the Ethereum ERC20 tokens for Metaverse MST</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swap-the-Metaverse-MST-for-Ethereum-ERC20-tokens"><span class="toc-text">Swap the Metaverse MST for Ethereum ERC20 tokens</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-System-architecture"><span class="toc-text">2 System architecture</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Address-Linking"><span class="toc-text">2.1 Address Linking</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#From-Ethereum-to-Metaverse"><span class="toc-text">From Ethereum to Metaverse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#From-Metaverse-to-Ethereum"><span class="toc-text">From Metaverse to Ethereum</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Preprocessing-module"><span class="toc-text">2.2 Preprocessing module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-Swap-module"><span class="toc-text">2.3 Swap module</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swap-Ethereum-ERC20-tokens-for-Metaverse-MST"><span class="toc-text">Swap Ethereum ERC20 tokens for Metaverse MST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Swap-Metaverse-MST-for-EthereumERC20-tokens"><span class="toc-text">Swap Metaverse MST for EthereumERC20 tokens:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Source-Code"><span class="toc-text">Source Code</span></a></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">Developers Overview</strong><a href="index.html" class="sidebar-link">Introduction</a><a href="mvs-whitepaper.html" class="sidebar-link">Brief MVS whitepaper</a><a href="mvs-avatar-whitepaper.html" class="sidebar-link">Brief Avatar whitepaper</a><a href="build-mvs.html" class="sidebar-link">Build MVS Full Node</a><strong class="sidebar-title">Digital Asset (MST)</strong><a href="da-index.html" class="sidebar-link">Introduction</a><a href="da-issue.html" class="sidebar-link">MST Issuance</a><a href="da-secondary-issue.html" class="sidebar-link">MST Secondary Issuance</a><a href="da-attenuation.html" class="sidebar-link">MST Conditional Offering</a><a href="da-multi-sig.html" class="sidebar-link">MST Multi-signature</a><a href="da-certification.html" class="sidebar-link">MST Domain-name&Certification</a><a href="da-burn.html" class="sidebar-link">MST Burn</a><a href="da-programmable.html" class="sidebar-link">Programmable MST</a><strong class="sidebar-title">Digital Asset (MIT)</strong><a href="mit-index.html" class="sidebar-link">MIT introduction</a><a href="mit-register.html" class="sidebar-link">MIT register</a><a href="mit-transfer.html" class="sidebar-link">MIT transfer</a><a href="mit-query.html" class="sidebar-link">MIT query</a><strong class="sidebar-title">Digital Identity (Avatar)</strong><a href="di-index.html" class="sidebar-link">DID introduction</a><a href="di-register.html" class="sidebar-link">DID register</a><a href="di-transfer.html" class="sidebar-link">DID transfer</a><a href="di-query.html" class="sidebar-link">DID query</a><a href="di-send.html" class="sidebar-link">DID send etp or asset</a><strong class="sidebar-title">Tech-Guide</strong><a href="account-model.html" class="sidebar-link">Account model</a><a href="consensus-and-mining.html" class="sidebar-link">Consensus and mining</a><a href="database.html" class="sidebar-link">Database</a><a href="httpserver.html" class="sidebar-link">HttpServer</a><a href="p2p-network.html" class="sidebar-link">P2P network</a><a href="mvs-transaction-format-and-signing.html" class="sidebar-link">Tx format and signing</a><a href="utxo-and-script.html" class="sidebar-link">UTXO and script</a><a href="utxo-limitation.html" class="sidebar-link">UTXO limitation</a><a href="cross-chain.html" class="sidebar-link current">Cross chain swap</a><a href="mpc1-transaction-updation.html" class="sidebar-link">MPC1 transaction updation</a><a href="plugin-cli.html" class="sidebar-link">Plugin CLI</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2020 <a href="https://github.com/mvs-org/metaverse/graphs/contributors" target="_blank">MVS Core Developers</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/mvs_org" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/mvs-org/metaverse" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/docs/" class="mobile-nav-link">Docs</a><a href="/api_v3/" class="mobile-nav-link">API v3</a><a href="/baas/" class="mobile-nav-link">BaaS</a><a href="/developers/" class="mobile-nav-link">Developers</a><a href="/faq/" class="mobile-nav-link">FAQ</a><a href="/news/" class="mobile-nav-link">Releases</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/mvs-org/metaverse" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Developers Overview</strong><a href="index.html" class="mobile-nav-link">Introduction</a><a href="mvs-whitepaper.html" class="mobile-nav-link">Brief MVS whitepaper</a><a href="mvs-avatar-whitepaper.html" class="mobile-nav-link">Brief Avatar whitepaper</a><a href="build-mvs.html" class="mobile-nav-link">Build MVS Full Node</a><strong class="mobile-nav-title">Digital Asset (MST)</strong><a href="da-index.html" class="mobile-nav-link">Introduction</a><a href="da-issue.html" class="mobile-nav-link">MST Issuance</a><a href="da-secondary-issue.html" class="mobile-nav-link">MST Secondary Issuance</a><a href="da-attenuation.html" class="mobile-nav-link">MST Conditional Offering</a><a href="da-multi-sig.html" class="mobile-nav-link">MST Multi-signature</a><a href="da-certification.html" class="mobile-nav-link">MST Domain-name&Certification</a><a href="da-burn.html" class="mobile-nav-link">MST Burn</a><a href="da-programmable.html" class="mobile-nav-link">Programmable MST</a><strong class="mobile-nav-title">Digital Asset (MIT)</strong><a href="mit-index.html" class="mobile-nav-link">MIT introduction</a><a href="mit-register.html" class="mobile-nav-link">MIT register</a><a href="mit-transfer.html" class="mobile-nav-link">MIT transfer</a><a href="mit-query.html" class="mobile-nav-link">MIT query</a><strong class="mobile-nav-title">Digital Identity (Avatar)</strong><a href="di-index.html" class="mobile-nav-link">DID introduction</a><a href="di-register.html" class="mobile-nav-link">DID register</a><a href="di-transfer.html" class="mobile-nav-link">DID transfer</a><a href="di-query.html" class="mobile-nav-link">DID query</a><a href="di-send.html" class="mobile-nav-link">DID send etp or asset</a><strong class="mobile-nav-title">Tech-Guide</strong><a href="account-model.html" class="mobile-nav-link">Account model</a><a href="consensus-and-mining.html" class="mobile-nav-link">Consensus and mining</a><a href="database.html" class="mobile-nav-link">Database</a><a href="httpserver.html" class="mobile-nav-link">HttpServer</a><a href="p2p-network.html" class="mobile-nav-link">P2P network</a><a href="mvs-transaction-format-and-signing.html" class="mobile-nav-link">Tx format and signing</a><a href="utxo-and-script.html" class="mobile-nav-link">UTXO and script</a><a href="utxo-limitation.html" class="mobile-nav-link">UTXO limitation</a><a href="cross-chain.html" class="mobile-nav-link current">Cross chain swap</a><a href="mpc1-transaction-updation.html" class="mobile-nav-link">MPC1 transaction updation</a><a href="plugin-cli.html" class="mobile-nav-link">Plugin CLI</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="developers/cross-chain.html">
      
        <option value="en" selected>English</option>
      
        <option value="zh-cn">简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/js/lang_select.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/mobile_nav.js"></script>
<!-- endbuild -->

<!-- Algolia -->


</body>
</html>